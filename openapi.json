{"openapi":"3.1.0","info":{"title":"DPA - Dynamic People Association","description":"Backend API for Dynamic People Association financial system","version":"1.0.0"},"paths":{"/api/v1/auth/login":{"post":{"tags":["Authentication"],"summary":"Login","description":"Login user and return JWT token.","operationId":"login_api_v1_auth_login_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Token"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/change-password":{"post":{"tags":["Authentication"],"summary":"Change Password","description":"Change current user's password.","operationId":"change_password_api_v1_auth_change_password_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChangePasswordRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/members/me":{"get":{"tags":["Members"],"summary":"Get My Profile","description":"Get current user's profile.","operationId":"get_my_profile_api_v1_members_me_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}}},"security":[{"HTTPBearer":[]}]},"put":{"tags":["Members"],"summary":"Update My Profile","description":"Update current user's profile.","operationId":"update_my_profile_api_v1_members_me_put","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserUpdate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/members/me/dashboard":{"get":{"tags":["Members"],"summary":"Get My Dashboard","description":"Get current user's dashboard data.","operationId":"get_my_dashboard_api_v1_members_me_dashboard_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/savings/me":{"get":{"tags":["Savings"],"summary":"Get My Savings","description":"Get current user's savings history.","operationId":"get_my_savings_api_v1_savings_me_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SavingsResponse"},"title":"Response Get My Savings Api V1 Savings Me Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/savings/me/summary":{"get":{"tags":["Savings"],"summary":"Get My Savings Summary","description":"Get current user's savings summary.","operationId":"get_my_savings_summary_api_v1_savings_me_summary_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/shares/me":{"get":{"tags":["Shares"],"summary":"Get My Shares","description":"Get current user's shares.","operationId":"get_my_shares_api_v1_shares_me_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ShareResponse"},"title":"Response Get My Shares Api V1 Shares Me Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/shares/me/summary":{"get":{"tags":["Shares"],"summary":"Get My Shares Summary","description":"Get current user's shares summary.","operationId":"get_my_shares_summary_api_v1_shares_me_summary_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/loans/me":{"get":{"tags":["Loans"],"summary":"Get My Loans","description":"Get current user's loans.","operationId":"get_my_loans_api_v1_loans_me_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/LoanResponse"},"title":"Response Get My Loans Api V1 Loans Me Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/loans/apply":{"post":{"tags":["Loans"],"summary":"Apply For Loan","description":"Apply for a new loan.","operationId":"apply_for_loan_api_v1_loans_apply_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoanCreate"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoanResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/admin/dashboard":{"get":{"tags":["Admin"],"summary":"Get Admin Dashboard","description":"Get admin dashboard analytics.","operationId":"get_admin_dashboard_api_v1_admin_dashboard_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/admin/users":{"get":{"tags":["Admin"],"summary":"Get All Users","description":"Get all users (admin only).","operationId":"get_all_users_api_v1_admin_users_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UserResponse"},"title":"Response Get All Users Api V1 Admin Users Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["Admin"],"summary":"Create User","description":"Create a new user (admin only).","operationId":"create_user_api_v1_admin_users_post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/users/{user_id}/suspend":{"post":{"tags":["Admin"],"summary":"Suspend User","description":"Suspend a user (admin only).","operationId":"suspend_user_api_v1_admin_users__user_id__suspend_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/users/{user_id}/activate":{"post":{"tags":["Admin"],"summary":"Activate User","description":"Activate a user (admin only).","operationId":"activate_user_api_v1_admin_users__user_id__activate_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/":{"get":{"summary":"Root","description":"Root endpoint.","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"ChangePasswordRequest":{"properties":{"old_password":{"type":"string","title":"Old Password"},"new_password":{"type":"string","title":"New Password"},"confirm_password":{"type":"string","title":"Confirm Password"}},"type":"object","required":["old_password","new_password","confirm_password"],"title":"ChangePasswordRequest","description":"Change password request schema."},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"LoanCreate":{"properties":{"loan_amount":{"anyOf":[{"type":"number"},{"type":"string"}],"title":"Loan Amount"},"interest_rate":{"anyOf":[{"type":"number"},{"type":"string"}],"title":"Interest Rate"},"duration_months":{"type":"integer","title":"Duration Months"},"user_id":{"type":"integer","title":"User Id"}},"type":"object","required":["loan_amount","interest_rate","duration_months","user_id"],"title":"LoanCreate","description":"Loan creation schema."},"LoanResponse":{"properties":{"loan_amount":{"type":"string","title":"Loan Amount"},"interest_rate":{"type":"string","title":"Interest Rate"},"duration_months":{"type":"integer","title":"Duration Months"},"id":{"type":"integer","title":"Id"},"user_id":{"type":"integer","title":"User Id"},"monthly_repayment":{"type":"string","title":"Monthly Repayment"},"total_repayable":{"type":"string","title":"Total Repayable"},"amount_paid":{"type":"string","title":"Amount Paid"},"balance":{"type":"string","title":"Balance"},"status":{"$ref":"#/components/schemas/LoanStatus"},"application_date":{"type":"string","format":"date-time","title":"Application Date"},"approval_date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Approval Date"},"disbursement_date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Disbursement Date"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["loan_amount","interest_rate","duration_months","id","user_id","monthly_repayment","total_repayable","amount_paid","balance","status","application_date","approval_date","disbursement_date","created_at","updated_at"],"title":"LoanResponse","description":"Loan response schema."},"LoanStatus":{"type":"string","enum":["pending","approved","active","closed","rejected"],"title":"LoanStatus","description":"Loan status enumeration."},"LoginRequest":{"properties":{"identifier":{"type":"string","title":"Identifier"},"password":{"type":"string","title":"Password"}},"type":"object","required":["identifier","password"],"title":"LoginRequest","description":"Login request schema."},"SavingsResponse":{"properties":{"month":{"type":"string","title":"Month"},"year":{"type":"integer","title":"Year"},"expected_amount":{"type":"string","title":"Expected Amount"},"id":{"type":"integer","title":"Id"},"user_id":{"type":"integer","title":"User Id"},"paid_amount":{"type":"string","title":"Paid Amount"},"status":{"$ref":"#/components/schemas/SavingsStatus"},"payment_date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Payment Date"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["month","year","expected_amount","id","user_id","paid_amount","status","payment_date","created_at","updated_at"],"title":"SavingsResponse","description":"Savings response schema."},"SavingsStatus":{"type":"string","enum":["paid","pending","partial","missed"],"title":"SavingsStatus","description":"Savings payment status enumeration."},"ShareResponse":{"properties":{"shares_count":{"type":"integer","title":"Shares Count"},"share_value":{"type":"string","title":"Share Value"},"id":{"type":"integer","title":"Id"},"user_id":{"type":"integer","title":"User Id"},"total_value":{"type":"string","title":"Total Value"},"purchase_date":{"type":"string","format":"date-time","title":"Purchase Date"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["shares_count","share_value","id","user_id","total_value","purchase_date","created_at","updated_at"],"title":"ShareResponse","description":"Share response schema."},"Token":{"properties":{"access_token":{"type":"string","title":"Access Token"},"token_type":{"type":"string","title":"Token Type"},"user":{"type":"object","title":"User"}},"type":"object","required":["access_token","token_type","user"],"title":"Token","description":"Token response schema."},"UserCreate":{"properties":{"member_id":{"type":"string","title":"Member Id"},"email":{"type":"string","format":"email","title":"Email"},"full_name":{"type":"string","title":"Full Name"},"phone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Phone"},"role":{"allOf":[{"$ref":"#/components/schemas/UserRole"}],"default":"member"},"password":{"type":"string","title":"Password"}},"type":"object","required":["member_id","email","full_name","password"],"title":"UserCreate","description":"User creation schema."},"UserResponse":{"properties":{"member_id":{"type":"string","title":"Member Id"},"email":{"type":"string","format":"email","title":"Email"},"full_name":{"type":"string","title":"Full Name"},"phone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Phone"},"role":{"allOf":[{"$ref":"#/components/schemas/UserRole"}],"default":"member"},"id":{"type":"integer","title":"Id"},"status":{"$ref":"#/components/schemas/UserStatus"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["member_id","email","full_name","id","status","created_at","updated_at"],"title":"UserResponse","description":"User response schema."},"UserRole":{"type":"string","enum":["admin","member"],"title":"UserRole","description":"User role enumeration."},"UserStatus":{"type":"string","enum":["active","suspended","inactive"],"title":"UserStatus","description":"User status enumeration."},"UserUpdate":{"properties":{"member_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Member Id"},"email":{"anyOf":[{"type":"string","format":"email"},{"type":"null"}],"title":"Email"},"full_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Full Name"},"phone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Phone"}},"type":"object","title":"UserUpdate","description":"User update schema."},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"HTTPBearer":{"type":"http","scheme":"bearer"}}}}